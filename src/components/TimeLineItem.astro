---
const {
  title,
  subtitle,
  description,
  date,
  icon: Icon,
  color,
  buttonText,
  isCurrent,
  category,
  certificateImage,
} = Astro.props;
---

<li class="mb-10 ms-6" data-category={category}>
  <span
    class:list={[
      "absolute flex items-center justify-center size-8 rounded-full -start-4 ring-1 ring-buffer",
      color,
    ]}
  >
    <Icon class="icon icon-tabler icons-tabler-outline size-5" />
  </span>
  <time
    class="relative top-1 bg-neutral-secondary-medium border border-default-medium text-heading text-xs font-medium px-1.5 py-0.5 rounded"
    >{date}</time
  >
  <h3 class="my-2 text-lg font-semibold text-heading flex items-center gap-2">
    {title}
    {
      isCurrent && (
        <span class="bg-brand-softer border border-brand-subtle text-fg-brand-strong text-xs font-medium px-1.5 py-0.5 rounded bg-[#A855F7]">
          Actualidad
        </span>
      )
    }
  </h3>
  {subtitle && <h4 class="mb-2">{subtitle}</h4>}
  {description && <p class="text-body mb-4">{description}</p>}
  {
    buttonText && (
      <button
        data-image={certificateImage}
        class:list={[
          "inline-flex items-center text-body bg-neutral-secondary-medium box-border border border-default-medium rounded hover:bg-neutral-tertiary-medium hover:text-heading focus:ring-2 focus:ring-neutral-tertiary shadow-xs font-medium leading-5 rounded-base text-sm px-2 py-1 focus:outline-none",
          { "view-certificate-btn": category === "certificate" },
        ]}
      >
        {buttonText}
        <svg
          class="size-4 ms-1.5 -me-0.5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M19 12H5m14 0-4 4m4-4-4-4"
          />
        </svg>
      </button>
    )
  }
</li>